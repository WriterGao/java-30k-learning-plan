# Day12 学习笔记

> **学习目标**：今天的笔记目标是"**能复述、能画图、能用代码验证**"，不要抄书。  
> **参考课件**：`00-教学课件_设计模式之结构型模式详解.md`

---

## 1. 结构型模式概述

### 1.1 什么是结构型模式

请用自己的话描述结构型模式：

- **定义**：
- **核心价值**：
- **与创建型、行为型模式的区别**：

### 1.2 结构型模式的核心思想

- **组合优于继承**：请举一个例子说明为什么组合优于继承
- **接口与实现分离**：请举一个例子说明

### 1.3 七种结构型模式概览

请列出七种结构型模式及其核心目的：

| 模式 | 核心目的 | 适用场景 | 我的理解 |
|------|---------|---------|---------|
| **适配器** | | | |
| **桥接** | | | |
| **组合** | | | |
| **装饰器** | | | |
| **外观** | | | |
| **享元** | | | |
| **代理** | | | |

---

## 2. 适配器模式

### 2.1 三种实现方式

#### 对象适配器（推荐）

```java
// 在此写出对象适配器的核心代码骨架
```

- **核心思想**：
- **优点**：
- **缺点**：

#### 类适配器

- **为什么 Java 中不常用**：
- **与对象适配器的区别**：

#### 接口适配器（缺省适配器）

```java
// 在此写出接口适配器的核心代码骨架
```

- **适用场景**：
- **实际应用**（如 WindowAdapter）：

### 2.2 实际应用

列举你知道的适配器模式应用：

1. JDK 中：
2. Spring 中：
3. 实际项目中：

---

## 3. 桥接模式

### 3.1 解决的问题（类爆炸）

请画图说明使用继承会产生类爆炸：

```
（在此画图：3种形状 × 3种颜色 = 9个类）
```

### 3.2 桥接模式实现

```java
// 在此写出桥接模式的核心代码骨架
```

- **如何避免类爆炸**：
- **抽象与实现如何分离**：

### 3.3 桥接 vs 继承

请对比桥接模式和继承方式：

| 维度 | 继承方式 | 桥接方式 |
|------|---------|---------|
| 类数量 | | |
| 扩展性 | | |
| 耦合度 | | |

### 3.4 实际应用

列举你知道的桥接模式应用：

1. JDK 中：
2. Spring 中：

---

## 4. 组合模式

### 4.1 适用场景

请列举 3 个组合模式的适用场景：

1. 
2. 
3. 

### 4.2 组合模式实现

```java
// 在此写出组合模式的核心代码骨架（文件系统示例）
```

- **如何统一处理叶子节点和组合节点**：
- **透明式 vs 安全式**：

### 4.3 组合模式结构

请画出组合模式的树形结构图：

```
（在此画图：文件系统树形结构）
```

### 4.4 实际应用

列举你知道的组合模式应用：

1. JDK 中：
2. 实际项目中：

---

## 5. 装饰器模式

### 5.1 解决的问题（类爆炸）

请画图说明使用继承会产生类爆炸：

```
（在此画图：3种调料 × 2^3 = 8个类）
```

### 5.2 装饰器模式实现

```java
// 在此写出装饰器模式的核心代码骨架（咖啡加料示例）
```

- **如何动态组合功能**：
- **与继承的区别**：

### 5.3 装饰器 vs 代理

请对比装饰器模式和代理模式：

| 维度 | 装饰器模式 | 代理模式 |
|------|-----------|---------|
| 目的 | | |
| 关注点 | | |
| 使用场景 | | |

### 5.4 实际应用

列举你知道的装饰器模式应用：

1. JDK 中（java.io 包）：
2. Spring 中：

---

## 6. 外观模式

### 6.1 核心思想

- **简化接口**：请用自己的话描述
- **隐藏复杂性**：请举一个例子

### 6.2 外观模式实现

```java
// 在此写出外观模式的核心代码骨架（家庭影院示例）
```

- **如何简化复杂子系统**：
- **与适配器模式的区别**：

### 6.3 外观 vs 适配器

请对比外观模式和适配器模式：

| 维度 | 外观模式 | 适配器模式 |
|------|---------|-----------|
| 目的 | | |
| 关注点 | | |
| 使用场景 | | |

### 6.4 实际应用

列举你知道的外观模式应用：

1. JDK 中：
2. Spring 中（JdbcTemplate）：

---

## 7. 享元模式

### 7.1 核心概念

- **内部状态（Intrinsic State）**：
- **外部状态（Extrinsic State）**：
- **请举例说明**：

### 7.2 享元模式实现

```java
// 在此写出享元模式的核心代码骨架（围棋棋子示例）
```

- **如何共享对象**：
- **如何分离内部状态和外部状态**：

### 7.3 实际应用

列举你知道的享元模式应用：

1. JDK 中（String 常量池、Integer 缓存）：
2. 实际项目中（线程池、连接池）：

---

## 8. 代理模式

### 8.1 三种类型

- **静态代理**：
- **动态代理**：
- **虚拟代理**：

### 8.2 静态代理

```java
// 在此写出静态代理的核心代码骨架
```

- **优点**：
- **缺点**：

### 8.3 JDK 动态代理 ⭐⭐⭐

```java
// 在此写出 JDK 动态代理的核心代码骨架
```

- **原理**：
- **限制**：
- **如何生成代理类**：

### 8.4 CGLIB 动态代理 ⭐⭐⭐

```java
// 在此写出 CGLIB 的核心代码骨架
```

- **原理**：
- **限制**：
- **与 JDK 动态代理的区别**：

### 8.5 JDK vs CGLIB

请填写对比表：

| 维度 | JDK 动态代理 | CGLIB |
|------|------------|-------|
| 实现方式 | | |
| 要求 | | |
| 性能 | | |
| 依赖 | | |
| Spring 选择 | | |

### 8.6 代理模式的应用场景

请列举 4 种代理模式的应用场景：

1. **远程代理**：
2. **虚拟代理**：
3. **保护代理**：
4. **智能引用**：

### 8.7 实际应用

列举你知道的代理模式应用：

1. Spring AOP：
2. MyBatis Mapper：

---

## 9. 结构型模式对比总结

### 9.1 容易混淆的模式对比

请填写对比表：

| 模式对 | 核心区别 | 一句话总结 |
|--------|---------|-----------|
| 适配器 vs 装饰器 | | |
| 适配器 vs 外观 | | |
| 装饰器 vs 代理 | | |
| 桥接 vs 适配器 | | |
| 组合 vs 装饰器 | | |

### 9.2 Spring/JDK 中的应用

请列举至少 7 个在 Spring 或 JDK 中的结构型模式应用：

1. 
2. 
3. 
4. 
5. 
6. 
7. 

---

## 10. 今日自我检测

请尝试回答以下问题（不看资料）：

- [ ] 能否说出 7 种结构型模式及其核心目的？
- [ ] 能否画出适配器、桥接、组合、装饰器、代理的类图？
- [ ] 能否说清楚适配器和装饰器的区别？
- [ ] 能否说清楚装饰器和代理的区别？
- [ ] 能否手写 JDK 动态代理的代码？
- [ ] 能否说清楚 JDK 动态代理和 CGLIB 的区别？
- [ ] 能否解释桥接模式如何避免类爆炸？
- [ ] 能否解释享元模式如何节省内存？

---

## 11. 疑问与收获

### 今日疑问



### 今日最大收获



### 明日计划
