# Day01 实验与练习（堆分配 / GC 观察）

## 0. 环境准备（Mac）

- **JDK**：建议使用你正在学习/工作使用的版本（例如 17/21），保持一致
- **可视化工具**：
  - 如果你的环境有 `jvisualvm`：直接使用
  - 如果没有：安装 VisualVM（独立工具）或改用命令行工具（`jcmd/jstat`）

> 备注：不同 JDK 的工具分布不同，这是正常的；今天的目标是“能观察到堆变化与 GC”，工具可替换。

## 1. 实验 A：堆分配与增长（必须完成）

- **代码**：`code/HeapAllocationDemo.java`
- **目标**：观察对象不断分配时，堆使用量如何增长；在有限 `-Xmx` 下触发明显的 GC 行为

记录项（写在 `02-学习笔记.md`）：

- JVM 参数（`-Xms/-Xmx`）
- 你看到的堆曲线变化
- 你在 GC 发生时的现象（暂停、吞吐变化等）

## 2. 实验 B：制造堆 OOM（建议完成）

- **代码**：`code/HeapOomDemo.java`
- **目标**：可控地触发 `java.lang.OutOfMemoryError: Java heap space`

验收标准：

- [ ] 能稳定复现 OOM
- [ ] 能解释“为什么会 OOM”（数据结构持有引用/增长速度/堆上限）
- [ ] 能给出至少 2 种缓解方案（参数 + 代码/设计）

## 3. 实验 C：栈溢出（可选但推荐）

- **代码**：`code/StackOverflowDemo.java`
- **目标**：触发 `StackOverflowError`，理解“递归深度/栈帧大小”的影响

## 4. 今日验收（完成即达标）

- [ ] 能画出 JVM 运行时数据区并解释每个区域
- [ ] 至少完成 1 个实验并写清楚“参数/现象/结论”
- [ ] 写出一段 5 分钟复述稿（见 `02-学习笔记.md`）

