# Day11 实验代码说明

本目录提供第 11 天的可运行实验代码，用于验证设计模式（创建型）的各种概念和实现。

## 运行方式（通用）

在仓库根目录执行：

```bash
cd Day11/code
javac *.java
```

## 各实验运行命令

### 1. 单例模式演示（所有实现方式）

```bash
java SingletonDemo
```

**观察要点**：
- 6 种单例实现方式在多线程下的表现
- 线程不安全懒汉式的并发问题
- 反射攻击破坏单例
- 枚举单例防御反射攻击
- 序列化/反序列化破坏单例与 readResolve() 防御

### 2. 工厂模式演示（三种工厂）

```bash
java FactoryDemo
```

**观察要点**：
- 简单工厂：通过一个静态方法创建不同类型的对象
- 工厂方法：通过不同的工厂子类创建对象（遵循开闭原则）
- 抽象工厂：创建一整个产品族（保证产品一致性）

### 3. 建造者模式演示

```bash
java BuilderDemo
```

**观察要点**：
- 经典建造者（Director + Builder）的分步构建过程
- 链式建造者的链式调用（Fluent API）
- 必需参数 vs 可选参数的处理
- 构建出的不可变对象

### 4. 原型模式演示（浅拷贝 vs 深拷贝）

```bash
java PrototypeDemo
```

**观察要点**：
- 浅拷贝：修改克隆对象的引用类型字段会影响原对象
- 深拷贝（重写 clone）：修改克隆对象不会影响原对象
- 深拷贝（序列化）：通过字节流实现完全独立的副本
- 基本类型 vs 引用类型在拷贝中的不同行为

## 文件说明

| 文件 | 实验 | 说明 |
|------|------|------|
| `SingletonDemo.java` | 实验A | 6 种单例实现 + 反射/序列化攻击与防御 |
| `FactoryDemo.java` | 实验B | 简单工厂 + 工厂方法 + 抽象工厂 |
| `BuilderDemo.java` | 实验C | 经典建造者 + 链式建造者 |
| `PrototypeDemo.java` | 实验D | 浅拷贝 vs 深拷贝（三种方式） |
