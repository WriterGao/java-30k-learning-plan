# Day03 学习笔记

> **学习目标**：今天的笔记目标是"**能调、能查、能优化**"，结合实际操作记录。  
> **参考课件**：`00-教学课件_JVM调优实战详解.md`

---

## 1. JVM 参数体系（用你自己的话总结）

### 1.1 参数分类

请用一句话总结每类参数的特点（参考课件第1章）：

#### 标准参数（-）
- **特点**：
- **常用参数**：
- **示例**：

#### -X 参数（非标准参数）
- **特点**：
- **常用参数**：
- **示例**：

#### -XX 参数（高级参数）
- **特点**：
- **布尔型写法**：`-XX:+/-<name>`
- **键值型写法**：`-XX:<name>=<value>`
- **常用参数**：

### 1.2 如何查看当前 JVM 参数

```bash
# 写下你用的命令和关键输出
```

---

## 2. 堆内存调优（参数与实验结果）

### 2.1 你使用的 JVM 参数

```bash
# 写下你实际使用的参数组合
-Xms???m -Xmx???m -Xmn???m
-XX:NewRatio=?
-XX:SurvivorRatio=?
```

### 2.2 参数含义（用自己的话解释）

| 参数 | 含义 | 你设的值 | 设置理由 |
|------|------|---------|---------|
| `-Xms` | | | |
| `-Xmx` | | | |
| `-Xmn` | | | |
| `-XX:NewRatio` | | | |
| `-XX:SurvivorRatio` | | | |
| `-XX:MaxTenuringThreshold` | | | |

### 2.3 堆内存分配的最佳实践

- **Xms 和 Xmx 为什么建议设成一样？**
  - 
- **新生代大小如何确定？**
  - 
- **什么时候需要调大老年代？**
  - 

---

## 3. GC 调优策略

### 3.1 吞吐量优先 vs 低延迟优先

| 维度 | 吞吐量优先 | 低延迟优先 |
|------|-----------|-----------|
| 目标 | | |
| 适用场景 | | |
| 推荐收集器 | | |
| 关键参数 | | |
| 权衡 | | |

### 3.2 GC 收集器选择

- **你选择的收集器**：
- **选择理由**：
- **对应的 JVM 参数**：

---

## 4. GC 日志分析

### 4.1 你的 GC 日志示例

```
# 粘贴一段你的 GC 日志
```

### 4.2 日志字段解析

请逐字段解析你的 GC 日志（参考课件第4章）：

- **GC 类型**（Minor GC / Full GC）：
- **触发原因**：
- **各区域变化**：
  - 新生代：回收前 → 回收后
  - 老年代：回收前 → 回收后
- **暂停时间**：
- **你的分析**：

---

## 5. JVM 监控工具使用记录

### 5.1 jps
```bash
# 你的命令和输出
```

### 5.2 jstat
```bash
# 你的命令和输出
# 重点关注：S0C/S1C/EC/OC/MC 等列的含义
```

**你的分析**：

### 5.3 jinfo
```bash
# 你的命令和输出
```

### 5.4 jmap
```bash
# 你的命令和输出
```

**堆转储分析要点**：

### 5.5 jstack
```bash
# 你的命令和输出
# 重点关注：线程状态、是否有死锁
```

**你的分析**：

### 5.6 jcmd
```bash
# 你的命令和输出
```

---

## 6. 问题排查实战记录

### 6.1 内存泄漏排查（实验B）

- **现象描述**：
- **排查步骤**：
  1. 
  2. 
  3. 
- **定位结果**：
- **解决方案**：

### 6.2 死锁排查（实验C）

- **现象描述**：
- **排查步骤**：
  1. 
  2. 
  3. 
- **jstack 输出关键信息**：
- **解决方案**：

### 6.3 CPU 飙高排查（如果做了）

- **现象描述**：
- **排查步骤**：
  1. 
  2. 
  3. 
- **定位的问题线程**：
- **解决方案**：

---

## 7. 生产环境 JVM 参数模板

### 7.1 你认为合理的参数模板

请根据课件第9章，写出你认为的合理参数模板：

```bash
# 4C8G 服务器参数模板（你的版本）
java \
  -Xms???g -Xmx???g \
  -Xmn???m \
  # ... 补充你认为重要的参数
  -jar your-app.jar
```

### 7.2 每个参数的设置理由

| 参数 | 值 | 理由 |
|------|---|------|
| | | |

---

## 8. 面试题自测

### 请不看课件，尝试回答以下问题：

**Q1: 如何排查线上 Java 应用 CPU 飙高？**

你的回答：

---

**Q2: 如何排查内存泄漏？**

你的回答：

---

**Q3: 频繁 Full GC 的可能原因？**

你的回答：

---

**Q4: -Xms 和 -Xmx 为什么建议设成一样？**

你的回答：

---

**Q5: 如何选择垃圾收集器？**

你的回答：

---

## 9. 学习总结与疑问

### 9.1 今天学到的核心知识点

1. 
2. 
3. 
4. 
5. 

### 9.2 还有疑问的地方

1. 
2. 

### 9.3 下一步学习计划

- [ ] 复习课件面试高频问题
- [ ] 在自己的项目上尝试 JVM 调优
- [ ] 准备 Day04 的学习内容

---

> **提示**：完成笔记后，对照课件第11章的面试问题进行自我验收。
